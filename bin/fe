#!/usr/bin/env node
var Module = require('module')
// var assert = require('assert')
;(function () {
  var origRequire = Module.prototype.require
  var _require = function (context, path) {
    return origRequire.call(context, path)
  }

  // var main = require.main

  Module.prototype.require = function (path) {
    // assert(typeof path === 'string', 'path must be a string')
    // assert(path, 'missing path')

    // if (path.slice(0, 2) === ':/') {
    //   return _require(main, './' + path.slice(2))
    // }
    module.paths = module.paths.concat('/usr/local/lib/node_modules')
    return _require(this, path)
  }
})()
require('babel-polyfill')
require('../lib')
